@using System.Globalization;
@using CBBW.Areas.Security.ViewModel.CTV;
@model AddOtherTripVM
@{
    ViewBag.Title = "CTV Entry";
}
@Html.HiddenFor(m => m.NoteNumber)
@Html.HiddenFor(m => m.IsBackDenied)
<div id="HdrDiv">
    <div class="row newTable">
        <div class="fixedElement">
            <div class="col-md-12" style="position: relative;">
                <div class="heading_text_btn mb-4 mt-4">
                    <div class="leftButton">
                        <button type="button" class="btn btn-primary me-2"
                                onclick="NormalBackBtnClicked('/Security/CTV2/CreateNote')">
                            <i data-feather="arrow-left-circle"></i>
                            Back
                        </button>
                        <button id="btnSubmit" type="button" disabled="disabled"
                                class="btn btn-secondary me-2" onclick="SaveData()">
                            <i data-feather="check-circle"></i>
                            Save
                        </button>
                        <button type="button" class="btn btn-white"
                                onclick="ClearBtnClicked('/Security/CTV2/CreateOtherTrip')">
                            <i data-feather="x-circle"></i>
                            Clear
                        </button>
                    </div>
                    <h2>"Company Transport” Vehicle Trip Schedule – ENTRY</h2>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="heading_text_btn2 d-block mb-4">
                <h2 class="text-center">A. Other Trip Schedule - Date Wise Vehicle Trip Details Entry:</h2>
            </div>
        </div>
        <div class="col-md-12 mb-3">
            <div class="card">
                <div class="card-body">
                    @*<form class="form-sample form-inline ms-auto row">*@
                    <div class="row d-flex align-items-center">
                        <label class="col-form-label col-md-2">
                            Trip Purpose  :
                        </label>
                        <div class="col-md-10">
                            <textarea id="TripPurpose" rows="2" cols="50"
                                      class="form-control is-invalid"
                                      onkeyup="ValidateTripPurpose()"
                                      name="message"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="table-responsive max-content newTable mt-4">
                <table class="table table-bordered btnalign" id="tblOTV">
                    <thead>
                        <tr>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">
                                SL.No.
                            </th>

                            <th colspan="2" style="text-align: center; vertical-align: middle;" scope="col">
                                Scheduled Trip From
                            </th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">From Location Type Code & Name</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">
                                From Location Code & Name
                            </th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">To Location Type Code & Name</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">
                                To Location Code & Name
                            </th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">
                                Scheduled Trip To Date
                            </th>
                            <th scope="col" style="text-align: center;background-color:pink;color:#000; vertical-align: middle;" rowspan="2">
                                Actions
                            </th>
                        </tr>
                        <tr>
                            <th scope="col" style="text-align: center; vertical-align: middle;">Date</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" width="12%">Time</th>
                        </tr>
                    </thead>
                    <tbody id="tbody1">
                        <tr id="0" class="add-row">
                            <th scope="row">1</th>
                            <td>
                                <div class="form-group">
                                    <div class="position-relative">
                                        <input id="FromDate_0" type="date"
                                               min="@(DateTime.Today.ToString("yyyy-MM-dd"))"
                                               onchange="FromDateChanged()"
                                               class="form-control is-invalid valid alterID disableDates inValidTag">
                                        <label id="lblFromDate_0" class="datelabel alterID" style="width:100px">Select A Date</label>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="form-group ">
                                    <div class="input-group date pointer position-static">
                                        <input id="time-FromDate_0" type="text" onblur="SchTimeChanged()"
                                               class="form-control is-invalid pointer inValidTag timePickerPreDateCtrl alterID"
                                               placeholder="1:00 PM">

                                        @*<span class="input-group-addon pointer calender-ico"><i class="fa fa-clock-o" aria-hidden="true"></i></span>*@
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <select id="FromLocationType_0"
                                            class="form-select is-invalid alterID"
                                            onchange="ChangeFromLocationType()">
                                        <option value="">Select Location Type</option>
                                        @if (Model.LocationTypes != null)
                                        {
                                            foreach (var item in Model.LocationTypes)
                                            {
                                                <option value="@item.ID">@item.DisplayText</option>
                                            }
                                        }
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <select id="FromLocation_0" class="form-select is-invalid alterID inValidTag"
                                            onchange="ChangeLocation()"
                                            aria-label="Default select example">
                                        <option value="-1">Select location</option>
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <select id="ToLocationType_0"
                                            class="form-select is-invalid ApplyMultiSelect alterID"
                                            onchange="ChangeToLocationType()">
                                        @if (Model.LocationTypes != null)
                                        {
                                            foreach (var item in Model.LocationTypes)
                                            {
                                                <option value="@item.ID">@item.DisplayText</option>
                                            }
                                        }
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <select id="ToLocation_0"
                                            class="form-select is-invalid alterID inValidTag"
                                            onchange="ChangeLocationTo()"
                                            aria-label="Default select example">
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <input id="ToDate_0" type="text" disabled="disabled"
                                           class="form-control is-invalid alterID">
                                </div>
                            </td>
                            <td>
                                <span class="actionBtn">
                                    <button id="AddBtn_0" type="button" class="btn primaryLink addBtn cloneBtn"
                                            data-toggle="tooltip" onclick="AddBtnClicked('tbody1','tbody2',true,true,true,'btnSubmit','HdrDiv')"
                                            data-placement="top" title="Add">
                                        <i data-feather="plus"></i>
                                    </button>

                                    <button id="DeleteBtn_0" type="button" class="btn secondaryLink inVisible removeBtn cloneBtn"
                                            data-toggle="tooltip" onclick="RowRemoveBtnWithEffectSubmitClicked('tbody2','btnSubmit','HdrDiv')"
                                            data-placement="top" title="Delete">
                                        <i data-feather="x"></i>
                                    </button>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                    <tbody id="tbody2">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="sectionB">
        <div class="col-md-12">
            <div class="heading_text_btn2 d-block mb-4">
                <h2 class="text-center">
                    B. Updated Other Trip Schedule - Date Wise Vehicle Trip Details Entry:

                </h2>
            </div>
        </div>
        <div class="col-md-12">
            <div class="table-responsive newTable">
                <table class="table table-bordered btnalign">
                    <thead>
                        <tr>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">
                                SL.No.
                            </th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2"> Driver No. & Name</th>
                            <th colspan="2" style="text-align: center; vertical-align: middle;" scope="col">
                                Scheduled Trip From
                            </th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">From Location Type Code & Name</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">
                                From Location Code & Name
                            </th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">To Location Type Code & Name</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">
                                To Location Code & Name
                            </th>
                            <th scope="col" style="text-align: center; vertical-align: middle;" rowspan="2">
                                Scheduled Trip To Date
                            </th>
                            <th scope="col" style="text-align: center; background-color: pink; color: #000; vertical-align: middle;" rowspan="2">
                                Actions
                            </th>
                        </tr>
                        <tr>
                            <th scope="col" style="text-align: center; vertical-align: middle;">Date</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">Time</th>
                        </tr>
                    </thead>
                    <tbody id="tbody3">
                        <tr id="0">
                            <th scope="row">1</th>
                            <td>
                                <div class="form-group">
                                    <input id="0_Driver2" type="text" disabled="disabled"
                                           class="form-control ">
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <input id="0_FromDate2" type="text" disabled="disabled"
                                           class="form-control ">
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <input id="0_FromTime2" type="text" disabled="disabled"
                                           class="form-control ">
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <input id="0_FromLT2" type="text" disabled="disabled"
                                           class="form-control ">
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <input id="0_FromL2" type="text" disabled="disabled"
                                           class="form-control ">
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <input id="0_ToLT2" type="text" disabled="disabled"
                                           class="form-control ">
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <input id="0_ToL2X" type="text" disabled="disabled"
                                           class="form-control ">
                                </div>
                            </td>
                            <td>
                                <input id="0_ToDate2" type="text" disabled="disabled"
                                       class="form-control ">
                            </td>
                            <td>
                                <span class="actionBtn">
                                    <button type="button" class="btn primaryLink" data-toggle="tooltip"
                                            data-placement="top" title="Add" disabled>
                                        <i data-feather="plus" onClick="plusAction()"></i>
                                    </button>

                                    <button type="button" class="btn secondaryLink" data-toggle="tooltip"
                                            data-placement="top" title="Delete" disabled>
                                        <i data-feather="x"></i>
                                    </button>
                                </span>
                            </td>

                        </tr>
                    </tbody>
                    <tbody id="tbody4"></tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="col-md-12">
        <div class="bgColor mb-4 mt-3">
            <ul style="list-style:none; margin: 0; padding: 0;">
                <li style="font-size: 16px;">
                    It Is Ensured That This Trip Is Prepared As Center Code/Name “Other Place” & In Factual It Is Taking Place The Same Way As It Is selected:
                    <select id="CCOth" class="form-select canclear pointer"
                            style="width:110px" disabled="disabled"
                            onchange="ValidateControl()"
                            aria-label="Default select example">
                        <option selected value="-1">-</option>
                        <option value="1">Yes</option>
                        <option value="0">No</option>
                        @*<option selected value="0">No</option>*@
                    </select>
                </li>
                <li style="font-size: 16px;">
                    The Other Trip Schedule Is Taken Up With The Knowledge Of DIC P&A That Transpired Through Mail:
                    <select id="DIC" class="form-select canclear pointer is-invalid"
                            style="width:110px"
                            onchange="ValidateControl()"
                            aria-label="Default select example">
                        <option selected value="-1">-</option>
                        <option value="1">Yes</option>
                        <option value="0">No</option>
                        @*<option selected value="0">No</option>*@
                    </select>
                </li>
            </ul>
        </div>
    </div>
</div>
@section headers
{
    
}
@section scripts{
    <script src="~/UIContent/JS/CustomePage/CommonReusableV2.js"></script>
    <script src="~/UIContent/JS/CustomePage/CTV/CreateOtherTrip.js"></script>
    <script>
        

    </script>
}
