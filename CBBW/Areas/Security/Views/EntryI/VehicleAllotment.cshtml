@using System.Globalization;
@using CBBW.Areas.Security.ViewModel.ETSEdit;
@model EntrICreateVM
@{

}
<div class="row newTable">
    @using (Html.BeginForm())
    {
        @Html.HiddenFor(m => m.VADetails.ModelName)
        @Html.HiddenFor(m => m.VADetails.NoteNumber)
        @Html.HiddenFor(m => m.VADetails.AuthorisedEmpName)
        @Html.HiddenFor(m => m.VADetails.DesignationText)
        @Html.HiddenFor(m => m.VADetails.VehicleType)
        @Html.HiddenFor(m => m.VehicleType)
        @Html.HiddenFor(m => m.VADetails.AuthorisedEmpNumber)
        @Html.HiddenFor(m => m.VABackBtnActive)
        @Html.HiddenFor(m => m.IsBtn)
        @Html.HiddenFor(m => m.MaterialStatus)
        @Html.HiddenFor(m => m.VehicleBelongsTo2)
        @Html.HiddenFor(m => m.VehicleNumber)
        @Html.HiddenFor(m => m.OtherVehicleNumber)
        @Html.HiddenFor(m => m.DriverName)
        @Html.HiddenFor(m => m.IsDriverCtrlEnable)
        @Html.HiddenFor(m => m.AuthorisedEmpNonName2)
        @Html.HiddenFor(m => m.DesgCodenNameOfAE2)
        @Html.HiddenFor(m => m.SchFromDate)
        @Html.HiddenFor(m => m.SchToDate)
        <div class="fixedElement">
            <div class="col-md-12">
                <div class="heading_text_btn mb-3 mt-4">
                    <div class="leftButton">
                        <button id="btnBack" type="button" class="btn btn-primary me-2">
                            <i data-feather="arrow-left-circle"></i>
                            Back
                        </button>
                        <button id="btnSubmit" type="submit" name="Submit"
                                value="Save" disabled
                                class="btn btn-secondary me-2">
                            <i data-feather="check-circle"></i>
                            Save
                        </button>
                        <button id="btnClear" type="button"
                                onclick="window.location.href='/Security/EntryI/ClearBtnClicked?PageID=1&NoteNumber=@Model.NoteNumber';"
                                class="btn btn-white">
                            <i data-feather="x-circle"></i>
                            Clear
                        </button>
                    </div>
                    <h2>Employee’s Travelling Details & Vehicle Allotment Entry (I) </h2>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="heading_text_btn2 d-block mb-2 pt-2">
                <h2 class="text-center"> Vehicle Allotment – Details:</h2>
            </div>
        </div>
        <div class="col-md-12 mb-4">
            <div class="col-md-12 pt-3" id="HdrDiv">
                <div class="SLUContainer SLUSection">
                    <div class="card mb-4">
                        <div class="card-body approvalForm">
                            @*<form class="form-sample form-inline row ms-auto">*@
                            <div class="row d-flex align-items-center mb-4">
                                <label class="col-form-label col-md-3">
                                    Entry Date :
                                </label>
                                <div class="col-md-4">
                                    <input type="text" class="form-control" value="@DateTime.Today.ToString("dd/MM/yyyy",CultureInfo.InvariantCulture)" disabled>
                                </div>

                                <label class="col-form-label col-md-3">
                                    Time  :
                                </label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" value="@DateTime.Now.ToString("hh:mm:ss tt")" disabled>
                                </div>
                            </div>
                            <div class="row d-flex align-items-center mb-4">
                                <label class="col-form-label col-md-3">
                                    Authorized Employee No. &nbsp; & Name :
                                </label>
                                <div class="col-md-4">
                                    @Html.TextBoxFor(m => m.AuthorisedEmpNonName,
                               htmlAttributes: new
                                    {
                                   @class = "form-control",
                                   disabled = "disabled"
                                    })
                                </div>
                                <label class="col-form-label col-md-3">
                                    Designation Code & Name  :
                                </label>
                                <div class="col-md-3">
                                    @Html.TextBoxFor(m => m.DesgCodenNameOfAE,
                               htmlAttributes: new
                                    {
                                   @class = "form-control",
                                   disabled = "disabled"
                                    })
                                </div>
                            </div>
                            <div class="row d-flex  align-items-center">
                                <label class="col-form-label col-md-3">
                                    Carrying Out Any Material  :
                                </label>
                                <div class="col-md-4">
                                    @Html.DropDownListFor(m => m.VADetails.MaterialStatus,
                           new[] {
                               new SelectListItem { Text = "-", Value = "-1" },
                               new SelectListItem { Text = "Yes", Value = "1" },
                               new SelectListItem { Text = "No", Value = "0" }},
                           htmlAttributes: new
                           {
                               @class = "form-select pointer is-invalid SLUCtrl",
                               @onchange = "ValidateControl()"
                           })
                                </div>
                            </div>
                            @*</form>*@
                        </div>
                    </div>
                    <div class="card mb-4">
                        <div class="card-body approvalForm ">
                            @*<form class="form-sample form-inline row ms-auto">*@

                            <div class="row d-flex  align-items-center ">
                                <label class="col-form-label col-md-3">
                                    Vehicle Belongs To  :
                                </label>
                                <div class="col-md-4">
                                    @Html.DropDownListFor(m => m.VADetails.VehicleBelongsTo,
                                           new SelectList(Model.VehicleBelongsTo, "ID", "DisplayText"),
                                           htmlAttributes: new
                                           {
                                               @class = "form-select pointer is-invalid SLUCtrl"
                                           })
                                </div>
                            </div>
                            @*</form>*@
                        </div>
                    </div>
                    <div class="card mb-4">
                        <div class="card-body approvalForm">
                            <div id="for_company_vehicle" class="inVisible">
                                <div class="row d-flex  align-items-center mb-4">
                                    <label class="col-form-label col-md-3">
                                        Vehicle No. :
                                    </label>
                                    <div class="col-md-4">
                                        @Html.DropDownListFor(m => m.VADetails.VehicleNumber,
                                           new SelectList(Model.VehicleList, "VehicleNumber", "VehicleNumber"),
                                           "Select Vehicle",
                                           htmlAttributes: new
                                           {
                                               @class = "form-select pointer SLUCtrl",
                                               onchange = "VehicleNoChanged(1)",
                                           })
                                    </div>
                                </div>
                            </div>
                            <div id="for_other_vehicle" class="inVisible">
                                <div class="row d-flex  align-items-center mb-4">
                                    <label class="col-form-label col-md-3">
                                        Vehicle No. :
                                    </label>
                                    <div class="col-md-4">
                                        @Html.TextBoxFor(m => m.VADetails.OtherVehicleNumber,
                                           htmlAttributes: new
                                           {
                                               @class = "form-control SLUCtrl",
                                               onkeyup = "ValidateControl()"
                                           })
                                    </div>
                                </div>
                            </div>
                            <div class="row d-flex  align-items-center mb-4 ">
                                <label class="col-form-label col-md-3">
                                    Vehicle Type :
                                </label>
                                <div class="col-md-4">
                                    @Html.TextBoxFor(m => m.VADetails.VehicleType,
                               htmlAttributes: new
                                    {
                                   @class = "form-control",
                                   disabled = "disabled"
                                    })
                                </div>
                            </div>
                            <div id="for_company_vehicle_model_name">
                                <div class="row d-flex  align-items-center mb-4">
                                    <label class="col-form-label col-md-3">
                                        Model Name  :
                                    </label>
                                    <div class="col-md-4">
                                        <input id="ModelName" type="text" value="NA"
                                               class="form-control" disabled>
                                    </div>
                                </div>
                            </div>
                            <div id="for_other_vehicle_model_name">
                                <div class="row d-flex  align-items-center mb-4">
                                    <label class="col-form-label col-md-3">
                                        Model Name  :
                                    </label>
                                    <div class="col-md-4">
                                        @Html.TextBoxFor(m => m.VADetails.OtherVehicleModelName,
                                        htmlAttributes: new
                                        {
                                            @class = "form-control",
                                            onchange = "ValidateControl()",
                                            disabled = "disabled"
                                        })
                                    </div>
                                </div>
                            </div>
                            <div class="row d-flex  align-items-center mb-4">
                                <label class="col-form-label col-md-3">
                                    Driver No. & Name :
                                </label>
                                <div class="col-md-4">
                                    @Html.DropDownListFor(m => m.VADetails.DriverName,
                                           new SelectList(Model.DriverList, "PersonName", "PersonName"),
                                           htmlAttributes: new
                                           {
                                               @class = "form-select pointer is-invalid SLUCtrl",
                                               onchange = "ValidateControl()",
                                               id = "mDriverName"
                                           })
                                </div>
                            </div>
                            <div class="row d-flex  align-items-center mb-4">
                                <label class="col-form-label col-md-3">
                                    K.M Out
                                </label>
                                <div class="col-md-4">
                                    @Html.TextBoxFor(m => m.VADetails.KMOut,
                                htmlAttributes: new
                                {
                                    @class = "form-control",
                                    disabled = "disabled"
                                })
                                </div>
                                <label class="col-form-label col-md-3">
                                    K.M In
                                </label>
                                <div class="col-md-3">
                                    @Html.TextBoxFor(m => m.VADetails.KMIn,
                                htmlAttributes: new
                                {
                                    @class = "form-control",
                                    disabled = "disabled"
                                })
                                </div>
                            </div>
                            @*</form>*@
                        </div>
                    </div>
                </div>


                <div id="EV" class="bgColor mt-4 bg-transparent content border-green text-left">
                    <ul style="list-style:none;">
                        <li style="font-size: 16px;">
                            Even Tough The Person Is Not Eligible For The Vehicle Type As Displayed In The Screen But Still You Are Providing Higher Class Vehicle Type? Are You Sure To Continue With The Vehicle Allotment:
                            <input type="text" class="form-control content border-green width-85 pointer-none" value="Yes" disabled="">
                        </li>
                    </ul>
                </div>
                <div id="VA" class="bgColor mt-4 bg-transparent content border-green text-left">
                    <ul style="list-style:none;">
                        <li style="font-size: 16px;">
                            Even Tough The Person Is Eligible For Public Transport But Still You Are Providing Company Vehicle? Are You Sure To Continue With The Vehicle Allotment:
                            <input type="text" class="form-control content border-green width-85 pointer-none" value="Yes" disabled="">
                        </li>
                    </ul>
                </div>
                <div class="bgColor mt-4 bg-transparent content border-green text-left">
                    <ul style="list-style:none;">
                        <li style="font-size: 16px;">
                            It Is Ensured That This Person Is Carrying Laptop As Provided To Him. The Same Has Been Confirmed(as per leave rules):
                            <input type="text" class="form-control content border-green width-85 pointer-none" value="Yes" disabled="">
                        </li>
                    </ul>
                </div>
                <div id="Option1Div"
                     class="bgColor mt-4 bg-transparent content SLUStatement SLUSection text-left">
                    <ul style="list-style:none;">
                        <li style="font-size: 16px;">
                            The Vehicle Allotment Is Done Per Policy And Is Done With Written Information To DIC – ADMIN. When Ever Required,
                            VB Document Shall Be Produced:
                            <select class="form-select content nodrop border-red is-invalid SLUCtrl LUPS"
                                    aria-label="Default select example"
                                    onchange="Option1Changed()" disabled
                                    id="Option1">
                                <option selected="">-</option>
                                <option value="1">Yes</option>
                            </select>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    }
</div>
@section headers
    {

}
@section scripts{
    <script src="~/UIContent/JS/CustomePage/mySLUCtrl.js"></script>
    <script src="~/UIContent/JS/CustomePage/CommonReusable.js"></script>
    <script src="~/UIContent/JS/CustomePage/CommonReusableV2.js"></script>
    <script src="~/UIContent/JS/CustomePage/ETSEdit/EntryIVehicleAllotment.js"></script>
    <script>
        $(document).ready(function () {
            if ('@ViewBag.ErrMsg' != '') {
                var mymsg = '@ViewBag.ErrMsg';
                MyAlert(3, mymsg);
            };
            if ('@ViewBag.Msg' != '') {
                var mymsg = '@ViewBag.Msg';
                MyAlertWithRedirection(1, mymsg, '/Security/EntryI/Create');
            };
        });
    </script>
}
