@using CBBW.BOL.MGP
@model  IEnumerable<MGPListDetails>
@{ ViewBag.Title = "Index";
    Layout = "~/Areas/Security/Views/Shared/_Layout.cshtml";
    int sl = 1;
}




<div class="container">
    <div class="row newTable">
        <div class="fixedElement">
            <div class="col-md-12" style="position: relative;">
                <div class="heading_text_btn mb-4 mt-4">
                    <div class="leftButton">
                        <button type="submit" class="btn btn-primary me-2" onclick="window.location.href='@Url.Action("Create", "MaterialGatePass",
                                    new { Area = "Security"})'">
                            <i data-feather="plus-circle"></i>
                            Add
                        </button>
                    </div>
                    <h2>Material Gate Pass (For Company Transport) – ENTRY </h2>


                </div>
            </div>
        </div>






        <div class="table-responsive">

            <table id="tblmgp" class="table table-bordered btnalign mt-4">
                <thead>
                    <tr>
                        <th scope="col">SL.No.</th>
                        <th scope="col">Ref. Note No.</th>
                        <th scope="col">Center Code & Name</th>
                        <th scope="col">Vehicle No.</th>
                        <th scope="col">For The Month & Year</th>
                        <th scope="col" style="background: pink;color: #000;">Action</th>
                    </tr>
                </thead>

                <thead>
                    <tr>
                        <th scope="col">&nbsp;</th>
                        <th scope="col">
                            <div class="form-group">
                                <input id="filterNoteno" type="text" class="form-control" placeholder="Search...">
                            </div>
                        </th>
                        <th scope="col">
                            <div class="form-group">
                                <input id="filterCenterCN" type="text" class="form-control" placeholder="Search...">
                            </div>
                        </th>
                        <th scope="col">
                            <div class="form-group">
                                <input id="filterVehicleNo" type="text" class="form-control" placeholder="Search...">
                            </div>
                        </th>
                        <th scope="col">
                            <div class="form-group">
                                <input id="filterMonthYear" type="text" class="form-control" placeholder="Search...">
                            </div>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null)
                    {
                        foreach (var item in Model)
                        {
                            <tr>
                                <th scope="row">@sl</th>
                                <td>@item.NoteNumber</td>
                                <td>@item.CenterCode / @item.CenterName</td>
                                <td>@item.VehicleNo</td>
                                <td>@item.MonthYear</td>
                                <td>
                                    <span class="actionBtn">

                                        <i data-feather="eye"></i>

                                    </span>
                                </td>
                            </tr>
                            sl++;
                        }
                    }

                </tbody>
            </table>


        </div>

    </div>
</div>
<script src="~/UIContent/JS/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        var tbl = $('#tblmgp').DataTable(
            {
                "pagingType": "input"
            }
        );
        var filter1 = $('#filterentrDate');

        var filter2 = $('#filterEffDate');
        filter1.on('keyup change', function () {
            tbl.columns(1).search(this.value).draw();

        });
        filter2.on('keyup change', function () {
            tbl.columns(2).search(this.value).draw();

        });

    });
</script>